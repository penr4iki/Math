\documentclass[11pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath, amssymb, amsthm, esint, physics}
\usepackage{fancyhdr}
\usepackage{tikz, tikz-3dplot}
% \usepackage{hyperref}
\usepackage{enumitem}
\usepackage{caption}
\usepackage{float}
\usepackage{cancel}
\usetikzlibrary{spy}

% Page setup
\pagestyle{fancy}
\setlength{\headheight}{14pt}
\fancyhf{}
\lhead{Single Variable Calculus: Derivative}
\cfoot{\thepage}

\begin{document}
\pagestyle{plain}
\begin{center}
  \tableofcontents
\end{center}
\newpage
\setcounter{page}{1}
\pagestyle{fancy}

\section{Definition and The First Principle}
\subsection{Definition}
Let $f$ be a function defined on an open interval containing $a$.  
The \textbf{derivative} of $f$ at the point $a$, denoted by $f'(a)$, is defined as
\begin{align*}
    f'(x)\,&=\lim_{h \to 0} \frac{f(x + h)-f(x)}{h}\\
        &=\lim_{x \to a}\frac{f(x)-f(a)}{x-a}
\end{align*}
\subsection{The First Principle}
\[
    f'(a)=\lim_{h\to 0}\frac{f(a+h)-f(a)}{h}
\]
provided the limit exists.
\subsection{Geometric Meaning: Slope of Tangent}
\begin{center}
\begin{tikzpicture}[scale=1.2]
    \draw[->] (-0.5,0) -- (4,0) node[right] {$x$};
    \draw[->] (0,-0.5) -- (0,4) node[above] {$y$};
    \draw[domain=0:2, smooth, thick] plot (\x,\x) node[above]{y=f(x)};
\end{tikzpicture}
\end{center}

\subsection{Symbols for the Derivative}
\[
    D_xf\text{, }
    \frac{d}{dx}f(x)\text{, }
    y'\text{, }
    \dot{y}
\]

\section{Rules and Derivatives of Elementary Functions}
\subsection{Derivative Rules}
\begin{enumerate}
    \item Constant Rule:
    $\displaystyle
        \frac{d}{dx}c = 0
    $
    
    \item Power Rule:
    $\displaystyle
        \frac{d}{dx}x^n = nx^{n-1}
    $
    
    \item Sum/Difference Rule:
    $\displaystyle
        \frac{d}{dx}[f \pm g] = \frac{d}{dx}f \pm \frac{d}{dx}g
    $
    
    \item Product Rule:
    $\displaystyle
        \frac{d}{dx}[f \cdot g] = \frac{d}{dx}f \cdot g + f \cdot \frac{d}{dx}g
    $
    
    \item Quotient Rule:
    $\displaystyle
        \frac{d}{dx}\left(\frac{f}{g}\right) = \frac{\frac{d}{dx}f \cdot g - f \cdot \frac{d}{dx}g}{g^2}
    $
\end{enumerate}
\subsection{Trigonometric Functions}
$
    \begin{array}{l@{\qquad}l}
        \qquad\frac{d}{dx}(\sin x) = \cos x & \displaystyle \frac{d}{dx}(\cos x) = -\sin x \\[10pt]
        \qquad\displaystyle \frac{d}{dx}(\tan x) = \sec^2 x & \displaystyle \frac{d}{dx}(\cot x) = -\csc^2 x \\[10pt]
        \qquad\displaystyle \frac{d}{dx}(\sec x) = \sec x \tan x & \displaystyle \frac{d}{dx}(\csc x) = -\csc x \cot x \\
    \end{array}
$
\subsection{Inverse Trigonometric Functions}
$
    \begin{array}{l@{\qquad}l}
        \qquad\displaystyle \frac{d}{dx}(\sin^{-1} x) = \frac{1}{\sqrt{1 - x^2}} 
        & \displaystyle \frac{d}{dx}(\cos^{-1} x) = \frac{-1}{\sqrt{1 - x^2}} \\[10pt]
        \qquad\displaystyle \frac{d}{dx}(\tan^{-1} x) = \frac{1}{1 + x^2} 
        & \displaystyle \frac{d}{dx}(\cot^{-1} x) = \frac{-1}{1 + x^2} \\[10pt]
        \qquad\displaystyle \frac{d}{dx}(\sec^{-1} x) = \frac{1}{|x|\sqrt{x^2 - 1}} 
        & \displaystyle \frac{d}{dx}(\csc^{-1} x) = \frac{-1}{|x|\sqrt{x^2 - 1}}
    \end{array}
$
\subsection{Exponential and Logarithhmic Functions}
$
    \begin{array}{l@{\qquad}l}
        \qquad\displaystyle \frac{d}{dx}(e^x) = e^x, & \displaystyle \frac{d}{dx}(\ln x) = \frac{1}{x},\,x>0\\[10pt]
        \qquad\displaystyle \frac{d}{dx}(a^x) = a^x \ln a,\,a>0 \,\&\,\neq 1 \quad & \displaystyle \frac{d}{dx}(\log_a x) = \frac{1}{x \ln a},\,a>0 \,\&\,\neq 1
    \end{array}
$
\subsection{Derivative of Inverse Function}
Let $f$ be a one-to-one differentiable function with inverse $f^{-1}$, and suppose $f'(f^{-1}(x)) \neq 0$. \\Then,
\[
    \left(f^{-1}\right)'(x) = \frac{1}{f'\left(f^{-1}(x)\right)}
\]
\subsubsection*{Example:} Let $f(x) = e^x$, so $f^{-1}(x) = \ln x$. Then,
\[
    \frac{d}{dx}(\ln x) = \frac{1}{\frac{d}{dx}(e^x)|_{x = \ln x}} = \frac{1}{e^{\ln x}} = \frac{1}{x}
\]
\subsection{Chain Rule}
If $h(x) = f(g(x))$ where both $f$ and $g$ are differentiable, then
\[
    h'(x) = \frac{d}{dx} f(g(x)) = f'(g(x)) \cdot g'(x).
\]

\section{Advanced Differentiation}
\subsection{Implicit Differentiation}
If a function $y$ is given implicitly by an equation involving both $x$ and $y$, such as
\[
    F(x,y) = 0.
\]
To find the derivative $\displaystyle\frac{dy}{dx}$, we differentiate both sides of the equation with respect to $x$, treating $y$ as a function of $x$. This means when differentiating terms involving $y$, we use the chain rule and multiply by $\displaystyle\frac{dy}{dx}$.
\subsubsection*{Example:} If
\[
    x^2 + y^2 = 25,
\]
then differentiating both sides gives
\[
    2x + 2y \frac{dy}{dx} = 0.
\]
Solving for $\displaystyle\frac{dy}{dx}$ gives
\[
    \frac{dy}{dx} = -\frac{x}{y}.
\]
\subsection{Higher-Order Derivatives}
The second derivative, third derivative, and beyond are called higher-order derivatives. 
These describe how the rate of change itself changes
\[
    \begin{array}{llll}
        \displaystyle
        \frac{dy}{dx}, \,
        \frac{d^2y}{dx^2}, \, 
        \frac{d^n y}{dx^n}\\[10pt]
        f'(x), \, f''(x), \, f'''(x), \, f^{(n)}(x)\\[6pt]
        \dot{y}, \, \ddot{y}, \, \overset{...}{y}
    \end{array}
\]
\subsection{Parametric Derivatives}
Given a parametric curve:
\[
    x=x(t)\quad y=y(t)
\]
the derivative of $y$ w.r.t $x$ is given by
\[
    \frac{dy}{dx}=\frac{dy}{dt}\cdot\frac{dt}{dx}\quad \text{(provided } \frac{dx}{dt} \neq 0\text{)}
\]

\section{Theorems}
\subsection{Rolle's Theorem}
Let $f$ be continuous on $[a, b]$, differentiable on $(a, b)$, and $f(a) = f(b)$.  
Then there exists $c \in (a, b)$ such that
\[
    f'(c) = 0.
\]
\subsection{Mean Value Theorem}
If $f$ is continuous on $[a, b]$ and differentiable on $(a, b)$, then  
there exists $c \in (a, b)$ such that
\[
    f'(c) = \frac{f(b) - f(a)}{b - a}.
\]
\subsection{Cauchy's Mean Value Theorem}
Let $f$ and $g$ be functions continuous on the closed interval $[a, b]$, and differentiable on the open interval $(a, b)$, with $g'(x) \ne 0$ for all $x \in (a, b)$. Then there exists at least one point $c \in (a, b)$ such that:
\[
    \frac{f'(c)}{g'(c)} = \frac{f(b) - f(a)}{g(b) - g(a)}
\]
\subsection{Extreme Value Theorem}
If $f$ is continuous on $[a, b]$, then there exist points $c, d \in [a, b]$ such that
\[
    f(c) \leq f(x) \leq f(d) ,\quad \forall x \in [a, b].
\]
\subsection{Darboux's Theorem}
Let $f$ be a differentiable function on an interval $I \subset \mathbb{R}$. Then the derivative $f'$ satisfies the Intermediate Value Property: for any $a, b \in I$ with $a < b$, and any $\lambda$ between $f'(a)$ and $f'(b)$, there exists some $c \in (a, b)$ such that:
\[
    f'(c) = \lambda
\]
This means that even if $f'$ is not continuous, it cannot have jump discontinuities â€” it must take on all intermediate values.

\section{Behavior of Functions}
\subsection{Critical Points and Extrema}
\subsection{Concavity and Inflection Points}
\subsection{Derivative Tests}
\subsubsection{First Derivative Test}
\subsubsection{Second Derivative Test}

\section{Applications}
\subsection{Related Rates}
\subsection{Optimization Problems}
\subsection{Linear Approximation (First-Order Taylor Expantion)}
If $f$ is differentiable at $x=a$, then near $a$, the function $f(x)$ is approximated by
\[
    f(x) \approx f(a)+f'(x)(x-a)
\]
\subsubsection*{Example:}
for all $x$ near $0$, $\sin x$ can be approximated by $\sin x \approx \sin(0) + \cos(0)\cdot x = x$
\begin{center}
    \begin{tikzpicture}[scale=2, spy using outlines={rectangle, magnification=1, size=1cm, connect spies}]
        \draw[->] (-1.7,0) -- (1.7,0) node[right] {$x$};
        \draw[->] (0,-1.2) -- (0,1.2) node[above] {$y$};

        \draw[domain=-1.5:1.5, smooth, thick, black] plot (\x, {sin(deg(\x))}) node[right]{$y=\sin x$} ;
        \draw[domain=-1.2:1.2, dashed, thick, red] plot (\x, \x) node[right]{$y=x$};

        \spy [black, dashed] on (0,{sin(deg(0))}) in node at (-1.5,1);
    \end{tikzpicture}
\end{center}
\end{document}